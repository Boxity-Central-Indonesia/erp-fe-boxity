import{r as d,R as pn}from"./react-guWHuPmL.js";import{r as gn}from"./react-dom-hWgfbF3o.js";import{t as It}from"./tabbable-d5-JCEPc.js";function be(e){return hn(e)?(e.nodeName||"").toLowerCase():"#document"}function ie(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function we(e){var t;return(t=(hn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hn(e){return e instanceof Node||e instanceof ie(e).Node}function z(e){return e instanceof Element||e instanceof ie(e).Element}function te(e){return e instanceof HTMLElement||e instanceof ie(e).HTMLElement}function Tt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ie(e).ShadowRoot}function ze(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Bn(e){return["table","td","th"].includes(be(e))}function Pt(e){const t=kt(),n=ce(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Kn(e){let t=Le(e);for(;te(t)&&!Be(t);){if(Pt(t))return t;t=Le(t)}return null}function kt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Be(e){return["html","body","#document"].includes(be(e))}function ce(e){return ie(e).getComputedStyle(e)}function at(e){return z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Le(e){if(be(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tt(e)&&e.host||we(e);return Tt(t)?t.host:t}function vn(e){const t=Le(e);return Be(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&ze(t)?t:vn(t)}function Ce(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=vn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ie(o);return i?t.concat(s,s.visualViewport||[],ze(o)?o:[],s.frameElement&&n?Ce(s.frameElement):[]):t.concat(o,Ce(o,[],n))}function me(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Tt(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Mt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Wn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function bn(e){return e.mozInputSource===0&&e.isTrusted?!0:Ct()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function At(e){return!Ct()&&e.width===0&&e.height===0||Ct()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Lt(){return/apple/i.test(navigator.vendor)}function Ct(){const e=/android/i;return e.test(Mt())||e.test(Wn())}function yn(){return Mt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function rt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Vn(e){return"nativeEvent"in e}function Hn(e){return e.matches("html,body")}function oe(e){return(e==null?void 0:e.ownerDocument)||document}function gt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Te(e){return"composedPath"in e?e.composedPath()[0]:e.target}const $n="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function St(e){return te(e)&&e.matches($n)}function ee(e){e.preventDefault(),e.stopPropagation()}function wn(e){return e?e.getAttribute("role")==="combobox"&&St(e):!1}const jn=["top","right","bottom","left"],Ht=["start","end"],$t=jn.reduce((e,t)=>e.concat(t,t+"-"+Ht[0],t+"-"+Ht[1]),[]),Ke=Math.min,Me=Math.max,ot=Math.round,Ne=Math.floor,Oe=e=>({x:e,y:e}),qn={left:"right",right:"left",bottom:"top",top:"bottom"},Yn={start:"end",end:"start"};function Ot(e,t,n){return Me(e,Ke(t,n))}function Ve(e,t){return typeof e=="function"?e(t):e}function ye(e){return e.split("-")[0]}function ge(e){return e.split("-")[1]}function xn(e){return e==="x"?"y":"x"}function Dt(e){return e==="y"?"height":"width"}function ft(e){return["top","bottom"].includes(ye(e))?"y":"x"}function Ft(e){return xn(ft(e))}function En(e,t,n){n===void 0&&(n=!1);const r=ge(e),o=Ft(e),i=Dt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=st(s)),[s,st(s)]}function zn(e){const t=st(e);return[it(e),t,it(t)]}function it(e){return e.replace(/start|end/g,t=>Yn[t])}function Xn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Un(e,t,n,r){const o=ge(e);let i=Xn(ye(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(it)))),i}function st(e){return e.replace(/left|right|bottom|top/g,t=>qn[t])}function Gn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rn(e){return typeof e!="number"?Gn(e):{top:e,right:e,bottom:e,left:e}}function ct(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function jt(e,t,n){let{reference:r,floating:o}=e;const i=ft(t),s=Ft(t),c=Dt(s),u=ye(t),a=i==="y",g=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,h=r[c]/2-o[c]/2;let l;switch(u){case"top":l={x:g,y:r.y-o.height};break;case"bottom":l={x:g,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:f};break;case"left":l={x:r.x-o.width,y:f};break;default:l={x:r.x,y:r.y}}switch(ge(t)){case"start":l[s]-=h*(n&&a?-1:1);break;case"end":l[s]+=h*(n&&a?-1:1);break}return l}const Jn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:f}=jt(a,r,u),h=r,l={},p=0;for(let m=0;m<c.length;m++){const{name:R,fn:w}=c[m],{x:y,y:L,data:k,reset:x}=await w({x:g,y:f,initialPlacement:r,placement:h,strategy:o,middlewareData:l,rects:a,platform:s,elements:{reference:e,floating:t}});if(g=y??g,f=L??f,l={...l,[R]:{...l[R],...k}},x&&p<=50){p++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(a=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:g,y:f}=jt(a,h,u)),m=-1;continue}}return{x:g,y:f,placement:h,strategy:o,middlewareData:l}};async function Nt(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:u}=e,{boundary:a="clippingAncestors",rootBoundary:g="viewport",elementContext:f="floating",altBoundary:h=!1,padding:l=0}=Ve(t,e),p=Rn(l),R=c[h?f==="floating"?"reference":"floating":f],w=ct(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(R)))==null||n?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:g,strategy:u})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(L))?await(i.getScale==null?void 0:i.getScale(L))||{x:1,y:1}:{x:1,y:1},x=ct(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:L,strategy:u}):y);return{top:(w.top-x.top+p.top)/k.y,bottom:(x.bottom-w.bottom+p.bottom)/k.y,left:(w.left-x.left+p.left)/k.x,right:(x.right-w.right+p.right)/k.x}}const Qn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:u}=t,{element:a,padding:g=0}=Ve(e,t)||{};if(a==null)return{};const f=Rn(g),h={x:n,y:r},l=Ft(o),p=Dt(l),m=await s.getDimensions(a),R=l==="y",w=R?"top":"left",y=R?"bottom":"right",L=R?"clientHeight":"clientWidth",k=i.reference[p]+i.reference[l]-h[l]-i.floating[p],x=h[l]-i.reference[l],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let _=I?I[L]:0;(!_||!await(s.isElement==null?void 0:s.isElement(I)))&&(_=c.floating[L]||i.floating[p]);const W=k/2-x/2,M=_/2-m[p]/2-1,O=Ke(f[w],M),D=Ke(f[y],M),A=O,T=_-m[p]-D,v=_/2-m[p]/2+W,b=Ot(A,v,T),E=!u.arrow&&ge(o)!=null&&v!=b&&i.reference[p]/2-(v<A?O:D)-m[p]/2<0,P=E?v<A?v-A:v-T:0;return{[l]:h[l]+P,data:{[l]:b,centerOffset:v-b-P,...E&&{alignmentOffset:P}},reset:E}}});function Zn(e,t,n){return(e?[...n.filter(o=>ge(o)===e),...n.filter(o=>ge(o)!==e)]:n.filter(o=>ye(o)===o)).filter(o=>e?ge(o)===e||(t?it(o)!==o:!1):!0)}const er=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:c,platform:u,elements:a}=t,{crossAxis:g=!1,alignment:f,allowedPlacements:h=$t,autoAlignment:l=!0,...p}=Ve(e,t),m=f!==void 0||h===$t?Zn(f||null,l,h):h,R=await Nt(t,p),w=((n=s.autoPlacement)==null?void 0:n.index)||0,y=m[w];if(y==null)return{};const L=En(y,i,await(u.isRTL==null?void 0:u.isRTL(a.floating)));if(c!==y)return{reset:{placement:m[0]}};const k=[R[ye(y)],R[L[0]],R[L[1]]],x=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:y,overflows:k}],I=m[w+1];if(I)return{data:{index:w+1,overflows:x},reset:{placement:I}};const _=x.map(O=>{const D=ge(O.placement);return[O.placement,D&&g?O.overflows.slice(0,2).reduce((A,T)=>A+T,0):O.overflows[0],O.overflows]}).sort((O,D)=>O[1]-D[1]),M=((o=_.filter(O=>O[2].slice(0,ge(O[0])?2:3).every(D=>D<=0))[0])==null?void 0:o[0])||_[0][0];return M!==c?{data:{index:w+1,overflows:x},reset:{placement:M}}:{}}}},tr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:u,elements:a}=t,{mainAxis:g=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...R}=Ve(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=ye(o),y=ye(c)===c,L=await(u.isRTL==null?void 0:u.isRTL(a.floating)),k=h||(y||!m?[st(c)]:zn(c));!h&&p!=="none"&&k.push(...Un(c,m,p,L));const x=[c,...k],I=await Nt(t,R),_=[];let W=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&_.push(I[w]),f){const A=En(o,s,L);_.push(I[A[0]],I[A[1]])}if(W=[...W,{placement:o,overflows:_}],!_.every(A=>A<=0)){var M,O;const A=(((M=i.flip)==null?void 0:M.index)||0)+1,T=x[A];if(T)return{data:{index:A,overflows:W},reset:{placement:T}};let v=(O=W.filter(b=>b.overflows[0]<=0).sort((b,E)=>b.overflows[1]-E.overflows[1])[0])==null?void 0:O.placement;if(!v)switch(l){case"bestFit":{var D;const b=(D=W.map(E=>[E.placement,E.overflows.filter(P=>P>0).reduce((P,C)=>P+C,0)]).sort((E,P)=>E[1]-P[1])[0])==null?void 0:D[0];b&&(v=b);break}case"initialPlacement":v=c;break}if(o!==v)return{reset:{placement:v}}}return{}}}};async function nr(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=ye(n),c=ge(n),u=ft(n)==="y",a=["left","top"].includes(s)?-1:1,g=i&&u?-1:1,f=Ve(t,e);let{mainAxis:h,crossAxis:l,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof p=="number"&&(l=c==="end"?p*-1:p),u?{x:l*g,y:h*a}:{x:h*a,y:l*g}}const Zr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,u=await nr(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:s}}}}},rr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:R=>{let{x:w,y}=R;return{x:w,y}}},...u}=Ve(e,t),a={x:n,y:r},g=await Nt(t,u),f=ft(ye(o)),h=xn(f);let l=a[h],p=a[f];if(i){const R=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=l+g[R],L=l-g[w];l=Ot(y,l,L)}if(s){const R=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=p+g[R],L=p-g[w];p=Ot(y,p,L)}const m=c.fn({...t,[h]:l,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function Tn(e){const t=ce(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=te(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=ot(n)!==i||ot(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function _t(e){return z(e)?e:e.contextElement}function _e(e){const t=_t(e);if(!te(t))return Oe(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Tn(t);let s=(i?ot(n.width):n.width)/r,c=(i?ot(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const or=Oe(0);function Cn(e){const t=ie(e);return!kt()||!t.visualViewport?or:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ir(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ie(e)?!1:t}function Se(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=_t(e);let s=Oe(1);t&&(r?z(r)&&(s=_e(r)):s=_e(e));const c=ir(i,n,r)?Cn(i):Oe(0);let u=(o.left+c.x)/s.x,a=(o.top+c.y)/s.y,g=o.width/s.x,f=o.height/s.y;if(i){const h=ie(i),l=r&&z(r)?ie(r):r;let p=h.frameElement;for(;p&&r&&l!==h;){const m=_e(p),R=p.getBoundingClientRect(),w=ce(p),y=R.left+(p.clientLeft+parseFloat(w.paddingLeft))*m.x,L=R.top+(p.clientTop+parseFloat(w.paddingTop))*m.y;u*=m.x,a*=m.y,g*=m.x,f*=m.y,u+=y,a+=L,p=ie(p).frameElement}}return ct({width:g,height:f,x:u,y:a})}function sr(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=te(n),i=we(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},c=Oe(1);const u=Oe(0);if((o||!o&&r!=="fixed")&&((be(n)!=="body"||ze(i))&&(s=at(n)),te(n))){const a=Se(n);c=_e(n),u.x=a.x+n.clientLeft,u.y=a.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+u.x,y:t.y*c.y-s.scrollTop*c.y+u.y}}function cr(e){return Array.from(e.getClientRects())}function On(e){return Se(we(e)).left+at(e).scrollLeft}function lr(e){const t=we(e),n=at(e),r=e.ownerDocument.body,o=Me(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Me(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+On(e);const c=-n.scrollTop;return ce(r).direction==="rtl"&&(s+=Me(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function ur(e,t){const n=ie(e),r=we(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,u=0;if(o){i=o.width,s=o.height;const a=kt();(!a||a&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:c,y:u}}function ar(e,t){const n=Se(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=te(e)?_e(e):Oe(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,a=r*i.y;return{width:s,height:c,x:u,y:a}}function qt(e,t,n){let r;if(t==="viewport")r=ur(e,n);else if(t==="document")r=lr(we(e));else if(z(t))r=ar(t,n);else{const o=Cn(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return ct(r)}function In(e,t){const n=Le(e);return n===t||!z(n)||Be(n)?!1:ce(n).position==="fixed"||In(n,t)}function fr(e,t){const n=t.get(e);if(n)return n;let r=Ce(e,[],!1).filter(c=>z(c)&&be(c)!=="body"),o=null;const i=ce(e).position==="fixed";let s=i?Le(e):e;for(;z(s)&&!Be(s);){const c=ce(s),u=Pt(s);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ze(s)&&!u&&In(e,s))?r=r.filter(g=>g!==s):o=c,s=Le(s)}return t.set(e,r),r}function dr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?fr(t,this._c):[].concat(n),r],c=s[0],u=s.reduce((a,g)=>{const f=qt(t,g,o);return a.top=Me(f.top,a.top),a.right=Ke(f.right,a.right),a.bottom=Ke(f.bottom,a.bottom),a.left=Me(f.left,a.left),a},qt(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mr(e){const{width:t,height:n}=Tn(e);return{width:t,height:n}}function pr(e,t,n){const r=te(t),o=we(t),i=n==="fixed",s=Se(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=Oe(0);if(r||!r&&!i)if((be(t)!=="body"||ze(o))&&(c=at(t)),r){const a=Se(t,!0,i,t);u.x=a.x+t.clientLeft,u.y=a.y+t.clientTop}else o&&(u.x=On(o));return{x:s.left+c.scrollLeft-u.x,y:s.top+c.scrollTop-u.y,width:s.width,height:s.height}}function Yt(e,t){return!te(e)||ce(e).position==="fixed"?null:t?t(e):e.offsetParent}function Pn(e,t){const n=ie(e);if(!te(e))return n;let r=Yt(e,t);for(;r&&Bn(r)&&ce(r).position==="static";)r=Yt(r,t);return r&&(be(r)==="html"||be(r)==="body"&&ce(r).position==="static"&&!Pt(r))?n:r||Kn(e)||n}const gr=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Pn,i=this.getDimensions;return{reference:pr(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function hr(e){return ce(e).direction==="rtl"}const vr={convertOffsetParentRelativeRectToViewportRelativeRect:sr,getDocumentElement:we,getClippingRect:dr,getOffsetParent:Pn,getElementRects:gr,getClientRects:cr,getDimensions:mr,getScale:_e,isElement:z,isRTL:hr};function br(e,t){let n=null,r;const o=we(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const{left:a,top:g,width:f,height:h}=e.getBoundingClientRect();if(c||t(),!f||!h)return;const l=Ne(g),p=Ne(o.clientWidth-(a+f)),m=Ne(o.clientHeight-(g+h)),R=Ne(a),y={rootMargin:-l+"px "+-p+"px "+-m+"px "+-R+"px",threshold:Me(0,Ke(1,u))||1};let L=!0;function k(x){const I=x[0].intersectionRatio;if(I!==u){if(!L)return s();I?s(!1,I):r=setTimeout(()=>{s(!1,1e-7)},100)}L=!1}try{n=new IntersectionObserver(k,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(e)}return s(!0),i}function eo(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,a=_t(e),g=o||i?[...a?Ce(a):[],...Ce(t)]:[];g.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=a&&c?br(a,n):null;let h=-1,l=null;s&&(l=new ResizeObserver(w=>{let[y]=w;y&&y.target===a&&l&&(l.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{l&&l.observe(t)})),n()}),a&&!u&&l.observe(a),l.observe(t));let p,m=u?Se(e):null;u&&R();function R(){const w=Se(e);m&&(w.x!==m.x||w.y!==m.y||w.width!==m.width||w.height!==m.height)&&n(),m=w,p=requestAnimationFrame(R)}return n(),()=>{g.forEach(w=>{o&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f&&f(),l&&l.disconnect(),l=null,u&&cancelAnimationFrame(p)}}const to=er,no=rr,ro=tr,zt=Qn,yr=(e,t,n)=>{const r=new Map,o={platform:vr,...n},i={...o.platform,_c:r};return Jn(e,t,{...o,platform:i})},oo=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?zt({element:r.current,padding:o}).fn(n):{}:r?zt({element:r,padding:o}).fn(n):{}}}};var nt=typeof document<"u"?d.useLayoutEffect:d.useEffect;function lt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!lt(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!lt(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function kn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xt(e,t){const n=kn(e);return Math.round(t*n)/n}function Ut(e){const t=d.useRef(e);return nt(()=>{t.current=e}),t}function wr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:u,open:a}=e,[g,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,l]=d.useState(r);lt(h,r)||l(r);const[p,m]=d.useState(null),[R,w]=d.useState(null),y=d.useCallback(E=>{E!=I.current&&(I.current=E,m(E))},[m]),L=d.useCallback(E=>{E!==_.current&&(_.current=E,w(E))},[w]),k=i||p,x=s||R,I=d.useRef(null),_=d.useRef(null),W=d.useRef(g),M=Ut(u),O=Ut(o),D=d.useCallback(()=>{if(!I.current||!_.current)return;const E={placement:t,strategy:n,middleware:h};O.current&&(E.platform=O.current),yr(I.current,_.current,E).then(P=>{const C={...P,isPositioned:!0};A.current&&!lt(W.current,C)&&(W.current=C,gn.flushSync(()=>{f(C)}))})},[h,t,n,O]);nt(()=>{a===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[a]);const A=d.useRef(!1);nt(()=>(A.current=!0,()=>{A.current=!1}),[]),nt(()=>{if(k&&(I.current=k),x&&(_.current=x),k&&x){if(M.current)return M.current(k,x,D);D()}},[k,x,D,M]);const T=d.useMemo(()=>({reference:I,floating:_,setReference:y,setFloating:L}),[y,L]),v=d.useMemo(()=>({reference:k,floating:x}),[k,x]),b=d.useMemo(()=>{const E={position:n,left:0,top:0};if(!v.floating)return E;const P=Xt(v.floating,g.x),C=Xt(v.floating,g.y);return c?{...E,transform:"translate("+P+"px, "+C+"px)",...kn(v.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:C}},[n,c,v.floating,g.x,g.y]);return d.useMemo(()=>({...g,update:D,refs:T,elements:v,floatingStyles:b}),[g,D,T,v,b])}function io(e){return d.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const xr=pn.useInsertionEffect,Er=xr||(e=>e());function pe(e){const t=d.useRef(()=>{});return Er(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Bt="ArrowUp",Xe="ArrowDown",We="ArrowLeft",He="ArrowRight";function Ze(e,t,n){return Math.floor(e/t)!==n}function je(e,t){return t<0||t>=e.current.length}function ht(e,t){return ne(e,{disabledIndices:t})}function Gt(e,t){return ne(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ne(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current,c=o?a=>o.includes(a):a=>{const g=s[a];return g==null||g.hasAttribute("disabled")||g.getAttribute("aria-disabled")==="true"};let u=n;do u+=r?-i:i;while(u>=0&&u<=s.length-1&&c(u));return u}function Rr(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:s,minIndex:c,maxIndex:u,prevIndex:a,stopEvent:g=!1}=t,f=a;if(n.key===Bt){if(g&&ee(n),a===-1)f=u;else if(f=ne(e,{startingIndex:f,amount:i,decrement:!0,disabledIndices:s}),o&&(a-i<c||f<0)){const h=a%i,l=u%i,p=u-(l-h);l===h?f=u:f=l>h?p:p-i}je(e,f)&&(f=a)}if(n.key===Xe&&(g&&ee(n),a===-1?f=c:(f=ne(e,{startingIndex:a,amount:i,disabledIndices:s}),o&&a+i>u&&(f=ne(e,{startingIndex:a%i-i,amount:i,disabledIndices:s}))),je(e,f)&&(f=a)),r==="both"){const h=Ne(a/i);n.key===He&&(g&&ee(n),a%i!==i-1?(f=ne(e,{startingIndex:a,disabledIndices:s}),o&&Ze(f,i,h)&&(f=ne(e,{startingIndex:a-a%i-1,disabledIndices:s}))):o&&(f=ne(e,{startingIndex:a-a%i-1,disabledIndices:s})),Ze(f,i,h)&&(f=a)),n.key===We&&(g&&ee(n),a%i!==0?(f=ne(e,{startingIndex:a,disabledIndices:s,decrement:!0}),o&&Ze(f,i,h)&&(f=ne(e,{startingIndex:a+(i-a%i),decrement:!0,disabledIndices:s}))):o&&(f=ne(e,{startingIndex:a+(i-a%i),decrement:!0,disabledIndices:s})),Ze(f,i,h)&&(f=a));const l=Ne(u/i)===h;je(e,f)&&(o&&l?f=n.key===We?u:ne(e,{startingIndex:a-a%i-1,disabledIndices:s}):f=a)}return f}function Tr(e,t,n){const r=[];let o=0;return e.forEach((i,s)=>{let{width:c,height:u}=i,a=!1;for(n&&(o=0);!a;){const g=[];for(let f=0;f<c;f++)for(let h=0;h<u;h++)g.push(o+f+h*t);o%t+c<=t&&g.every(f=>r[f]===void 0)?(g.forEach(f=>r[f]=s),a=!0):o++}}),[...r]}function Cr(e,t,n,r,o){if(e===-1)return-1;const i=n.indexOf(e);switch(o){case"tl":return i;case"tr":return i+t[e].width-1;case"bl":return i+(t[e].height-1)*r;case"br":return n.lastIndexOf(e)}}function Or(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}let Jt=0;function ve(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Jt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():Jt=requestAnimationFrame(i)}var Y=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Ir(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Pr(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const Mn=d.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function so(e){let{children:t,elementsRef:n,labelsRef:r}=e;const[o,i]=d.useState(()=>new Map),s=d.useCallback(u=>{i(a=>new Map(a).set(u,null))},[]),c=d.useCallback(u=>{i(a=>{const g=new Map(a);return g.delete(u),g})},[]);return Y(()=>{const u=new Map(o);Array.from(u.keys()).sort(Ir).forEach((g,f)=>{u.set(g,f)}),Pr(o,u)||i(u)},[o]),d.createElement(Mn.Provider,{value:d.useMemo(()=>({register:s,unregister:c,map:o,elementsRef:n,labelsRef:r}),[s,c,o,n,r])},t)}function co(e){let{label:t}=e===void 0?{}:e;const[n,r]=d.useState(null),o=d.useRef(null),{register:i,unregister:s,map:c,elementsRef:u,labelsRef:a}=d.useContext(Mn),g=d.useCallback(f=>{if(o.current=f,n!==null&&(u.current[n]=f,a)){var h;const l=t!==void 0;a.current[n]=l?t:(h=f==null?void 0:f.textContent)!=null?h:null}},[n,u,a,t]);return Y(()=>{const f=o.current;if(f)return i(f),()=>{s(f)}},[i,s]),Y(()=>{const f=o.current?c.get(o.current):null;f!=null&&r(f)},[c]),d.useMemo(()=>({ref:g,index:n??-1}),[n,g])}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}let vt=!1,kr=0;const Qt=()=>"floating-ui-"+kr++;function Mr(){const[e,t]=d.useState(()=>vt?Qt():void 0);return Y(()=>{e==null&&t(Qt())},[]),d.useEffect(()=>{vt||(vt=!0)},[]),e}const Ar=pn.useId,dt=Ar||Mr;function Lr(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Sr=d.createContext(null),Dr=d.createContext(null),mt=()=>{var e;return((e=d.useContext(Sr))==null?void 0:e.id)||null},Ue=()=>d.useContext(Dr);function De(e){return"data-floating-ui-"+e}function he(e){const t=d.useRef(e);return Y(()=>{t.current=e}),t}const Zt=De("safe-polygon");function bt(e,t,n){return n&&!rt(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function lo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:c},refs:u}=e,{enabled:a=!0,delay:g=0,handleClose:f=null,mouseOnly:h=!1,restMs:l=0,move:p=!0}=t,m=Ue(),R=mt(),w=he(f),y=he(g),L=d.useRef(),k=d.useRef(),x=d.useRef(),I=d.useRef(),_=d.useRef(!0),W=d.useRef(!1),M=d.useRef(()=>{}),O=d.useCallback(()=>{var v;const b=(v=o.current.openEvent)==null?void 0:v.type;return(b==null?void 0:b.includes("mouse"))&&b!=="mousedown"},[o]);d.useEffect(()=>{if(!a)return;function v(b){let{open:E}=b;E||(clearTimeout(k.current),clearTimeout(I.current),_.current=!0)}return i.on("openchange",v),()=>{i.off("openchange",v)}},[a,i]),d.useEffect(()=>{if(!a||!w.current||!n)return;function v(E){O()&&r(!1,E,"hover")}const b=oe(c).documentElement;return b.addEventListener("mouseleave",v),()=>{b.removeEventListener("mouseleave",v)}},[c,n,r,a,w,o,O]);const D=d.useCallback(function(v,b,E){b===void 0&&(b=!0),E===void 0&&(E="hover");const P=bt(y.current,"close",L.current);P&&!x.current?(clearTimeout(k.current),k.current=setTimeout(()=>r(!1,v,E),P)):b&&(clearTimeout(k.current),r(!1,v,E))},[y,r]),A=d.useCallback(()=>{M.current(),x.current=void 0},[]),T=d.useCallback(()=>{if(W.current){const v=oe(u.floating.current).body;v.style.pointerEvents="",v.removeAttribute(Zt),W.current=!1}},[u]);return d.useEffect(()=>{if(!a)return;function v(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function b(C){if(clearTimeout(k.current),_.current=!1,h&&!rt(L.current)||l>0&&bt(y.current,"open")===0)return;const H=bt(y.current,"open",L.current);H?k.current=setTimeout(()=>{r(!0,C,"hover")},H):r(!0,C,"hover")}function E(C){if(v())return;M.current();const H=oe(c);if(clearTimeout(I.current),w.current){n||clearTimeout(k.current),x.current=w.current({...e,tree:m,x:C.clientX,y:C.clientY,onClose(){T(),A(),D(C,!0,"safe-polygon")}});const F=x.current;H.addEventListener("mousemove",F),M.current=()=>{H.removeEventListener("mousemove",F)};return}(L.current==="touch"?!Z(c,C.relatedTarget):!0)&&D(C)}function P(C){v()||w.current==null||w.current({...e,tree:m,x:C.clientX,y:C.clientY,onClose(){T(),A(),D(C)}})(C)}if(z(s)){const C=s;return n&&C.addEventListener("mouseleave",P),c==null||c.addEventListener("mouseleave",P),p&&C.addEventListener("mousemove",b,{once:!0}),C.addEventListener("mouseenter",b),C.addEventListener("mouseleave",E),()=>{n&&C.removeEventListener("mouseleave",P),c==null||c.removeEventListener("mouseleave",P),p&&C.removeEventListener("mousemove",b),C.removeEventListener("mouseenter",b),C.removeEventListener("mouseleave",E)}}},[s,c,a,e,h,l,p,D,A,T,r,n,m,y,w,o]),Y(()=>{var v;if(a&&n&&(v=w.current)!=null&&v.__options.blockPointerEvents&&O()){const E=oe(c).body;if(E.setAttribute(Zt,""),E.style.pointerEvents="none",W.current=!0,z(s)&&c){var b;const P=s,C=m==null||(b=m.nodesRef.current.find(H=>H.id===R))==null||(b=b.context)==null?void 0:b.elements.floating;return C&&(C.style.pointerEvents=""),P.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{P.style.pointerEvents="",c.style.pointerEvents=""}}}},[a,n,R,c,s,m,w,o,O]),Y(()=>{n||(L.current=void 0,A(),T())},[n,A,T]),d.useEffect(()=>()=>{A(),clearTimeout(k.current),clearTimeout(I.current),T()},[a,s,A,T]),d.useMemo(()=>{if(!a)return{};function v(b){L.current=b.pointerType}return{reference:{onPointerDown:v,onPointerEnter:v,onMouseMove(b){n||l===0||(clearTimeout(I.current),I.current=setTimeout(()=>{_.current||r(!0,b.nativeEvent,"hover")},l))}},floating:{onMouseEnter(){clearTimeout(k.current)},onMouseLeave(b){D(b.nativeEvent,!1)}}}},[a,l,n,r,D])}function Fr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Ae(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Nr(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),Ae(e,i).forEach(u=>{o(u.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let Fe=new WeakMap,et=new WeakSet,tt={},yt=0;const _r=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,An=e=>e&&(e.host||An(e.parentNode)),Br=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=An(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Kr(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=Br(t,e),c=new Set,u=new Set(s),a=[];tt[o]||(tt[o]=new WeakMap);const g=tt[o];s.forEach(f),h(t),c.clear();function f(l){!l||c.has(l)||(c.add(l),l.parentNode&&f(l.parentNode))}function h(l){!l||u.has(l)||Array.prototype.forEach.call(l.children,p=>{if(c.has(p))h(p);else{const m=i?p.getAttribute(i):null,R=m!==null&&m!=="false",w=(Fe.get(p)||0)+1,y=(g.get(p)||0)+1;Fe.set(p,w),g.set(p,y),a.push(p),w===1&&R&&et.add(p),y===1&&p.setAttribute(o,""),!R&&i&&p.setAttribute(i,"true")}})}return yt++,()=>{a.forEach(l=>{const p=(Fe.get(l)||0)-1,m=(g.get(l)||0)-1;Fe.set(l,p),g.set(l,m),p||(!et.has(l)&&i&&l.removeAttribute(i),et.delete(l)),m||l.removeAttribute(o)}),yt--,yt||(Fe=new WeakMap,Fe=new WeakMap,et=new WeakSet,tt={})}}function en(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=oe(e[0]).body;return Kr(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Kt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Ln(e,t){const n=It(e,Kt());t==="prev"&&n.reverse();const r=n.indexOf(me(oe(e)));return n.slice(r+1)[0]}function Sn(){return Ln(document.body,"next")}function Dn(){return Ln(document.body,"prev")}function qe(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function Wr(e){It(e,Kt()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Vr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Wt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Hr;function tn(e){e.key==="Tab"&&(e.target,clearTimeout(Hr))}const ut=d.forwardRef(function(t,n){const[r,o]=d.useState();Y(()=>(Lt()&&o("button"),document.addEventListener("keydown",tn),()=>{document.removeEventListener("keydown",tn)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[De("focus-guard")]:"",style:Wt};return d.createElement("span",Ye({},t,i))}),Fn=d.createContext(null);function $r(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=d.useState(null),i=dt(),s=Nn(),c=d.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),u=d.useRef();return Y(()=>()=>{r==null||r.remove()},[r,c]),Y(()=>{if(u.current===c)return;u.current=c;const{id:a,root:g,portalContext:f,uniqueId:h}=c,l=a?document.getElementById(a):null,p=De("portal");if(l){const m=document.createElement("div");m.id=h,m.setAttribute(p,""),l.appendChild(m),o(m)}else{let m=g||(f==null?void 0:f.portalNode);m&&!z(m)&&(m=m.current),m=m||document.body;let R=null;a&&(R=document.createElement("div"),R.id=a,m.appendChild(R));const w=document.createElement("div");w.id=h,w.setAttribute(p,""),m=R||m,m.appendChild(w),o(w)}},[c]),r}function uo(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=$r({id:n,root:r}),[s,c]=d.useState(null),u=d.useRef(null),a=d.useRef(null),g=d.useRef(null),f=d.useRef(null),h=!!s&&!s.modal&&s.open&&o&&!!(r||i);return d.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function l(p){i&&qe(p)&&(p.type==="focusin"?Vr:Wr)(i)}return i.addEventListener("focusin",l,!0),i.addEventListener("focusout",l,!0),()=>{i.removeEventListener("focusin",l,!0),i.removeEventListener("focusout",l,!0)}},[i,o,s==null?void 0:s.modal]),d.createElement(Fn.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:a,beforeInsideRef:g,afterInsideRef:f,portalNode:i,setFocusManagerState:c}),[o,i])},h&&i&&d.createElement(ut,{"data-type":"outside",ref:u,onFocus:l=>{if(qe(l,i)){var p;(p=g.current)==null||p.focus()}else{const m=Dn()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus()}}}),h&&i&&d.createElement("span",{"aria-owns":i.id,style:Wt}),i&&gn.createPortal(t,i),h&&i&&d.createElement(ut,{"data-type":"outside",ref:a,onFocus:l=>{if(qe(l,i)){var p;(p=f.current)==null||p.focus()}else{const m=Sn()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,l.nativeEvent))}}}))}const Nn=()=>d.useContext(Fn),nn=20;let ke=[];function wt(e){ke=ke.filter(t=>t.isConnected),e&&be(e)!=="body"&&(ke.push(e),ke.length>nn&&(ke=ke.slice(-nn)))}function rn(){return ke.slice().reverse().find(e=>e.isConnected)}const jr=d.forwardRef(function(t,n){return d.createElement("button",Ye({},t,{type:"button",ref:n,tabIndex:-1,style:Wt}))});function ao(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,modal:u=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:g=!0}=e,{open:f,refs:h,nodeId:l,onOpenChange:p,events:m,dataRef:R,elements:{domReference:w,floating:y}}=t,L=typeof s=="number"&&s<0,k=wn(w)&&L,x=_r()?i:!0,I=he(o),_=he(s),W=he(c),M=Ue(),O=Nn(),D=d.useRef(null),A=d.useRef(null),T=d.useRef(!1),v=d.useRef(!1),b=O!=null,E=d.useCallback(function(S){return S===void 0&&(S=y),S?It(S,Kt()):[]},[y]),P=d.useCallback(S=>{const F=E(S);return I.current.map(N=>w&&N==="reference"?w:y&&N==="floating"?y:F).filter(Boolean).flat()},[w,y,I,E]);d.useEffect(()=>{if(r||!u)return;function S(N){if(N.key==="Tab"){Z(y,me(oe(y)))&&E().length===0&&!k&&ee(N);const K=P(),j=Te(N);I.current[0]==="reference"&&j===w&&(ee(N),N.shiftKey?ve(K[K.length-1]):ve(K[1])),I.current[1]==="floating"&&j===y&&N.shiftKey&&(ee(N),ve(K[0]))}}const F=oe(y);return F.addEventListener("keydown",S),()=>{F.removeEventListener("keydown",S)}},[r,w,y,u,I,h,k,E,P]),d.useEffect(()=>{if(r||!g)return;function S(){v.current=!0,setTimeout(()=>{v.current=!1})}function F(N){const K=N.relatedTarget;queueMicrotask(()=>{const j=!(Z(w,K)||Z(y,K)||Z(K,y)||Z(O==null?void 0:O.portalNode,K)||K!=null&&K.hasAttribute(De("focus-guard"))||M&&(Ae(M.nodesRef.current,l).find($=>{var G,J;return Z((G=$.context)==null?void 0:G.elements.floating,K)||Z((J=$.context)==null?void 0:J.elements.domReference,K)})||Fr(M.nodesRef.current,l).find($=>{var G,J;return((G=$.context)==null?void 0:G.elements.floating)===K||((J=$.context)==null?void 0:J.elements.domReference)===K})));K&&j&&!v.current&&K!==rn()&&(T.current=!0,p(!1,N))})}if(y&&te(w))return w.addEventListener("focusout",F),w.addEventListener("pointerdown",S),!u&&y.addEventListener("focusout",F),()=>{w.removeEventListener("focusout",F),w.removeEventListener("pointerdown",S),!u&&y.removeEventListener("focusout",F)}},[r,w,y,u,l,M,O,p,g]),d.useEffect(()=>{var S;if(r)return;const F=Array.from((O==null||(S=O.portalNode)==null?void 0:S.querySelectorAll("["+De("portal")+"]"))||[]);if(y){const N=[y,...F,D.current,A.current,I.current.includes("reference")||k?w:null].filter(j=>j!=null),K=u||k?en(N,x,!x):en(N);return()=>{K()}}},[r,w,y,u,I,O,k,x]),Y(()=>{if(r||!y)return;const S=oe(y),F=me(S);queueMicrotask(()=>{const N=P(y),K=_.current,j=(typeof K=="number"?N[K]:K.current)||y,$=Z(y,F);!L&&!$&&f&&ve(j,{preventScroll:j===y})})},[r,f,y,L,P,_]),Y(()=>{if(r||!y)return;let S=!1;const F=oe(y),N=me(F),K=R.current;wt(N);function j($){let{reason:G,event:J,nested:q}=$;G==="escape-key"&&h.domReference.current&&wt(h.domReference.current),G==="hover"&&J.type==="mouseleave"&&(T.current=!0),G==="outside-press"&&(q?(T.current=!1,S=!0):T.current=!(bn(J)||At(J)))}return m.on("openchange",j),()=>{m.off("openchange",j);const $=me(F),G=Z(y,$)||M&&Ae(M.nodesRef.current,l).some(X=>{var se;return Z((se=X.context)==null?void 0:se.elements.floating,$)});(G||K.openEvent&&["click","mousedown"].includes(K.openEvent.type))&&h.domReference.current&&wt(h.domReference.current);const q=rn();W.current&&!T.current&&te(q)&&(!(q!==$&&$!==F.body)||G)&&ve(q,{cancelPrevious:!1,preventScroll:S})}},[r,y,W,R,h,m,M,l]),Y(()=>{if(!(r||!O))return O.setFocusManagerState({modal:u,closeOnFocusOut:g,open:f,onOpenChange:p,refs:h}),()=>{O.setFocusManagerState(null)}},[r,O,u,f,p,h,g]),Y(()=>{if(r||!y||typeof MutationObserver!="function"||L)return;const S=()=>{const N=y.getAttribute("tabindex");I.current.includes("floating")||me(oe(y))!==h.domReference.current&&E().length===0?N!=="0"&&y.setAttribute("tabindex","0"):N!=="-1"&&y.setAttribute("tabindex","-1")};S();const F=new MutationObserver(S);return F.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{F.disconnect()}},[r,y,h,I,E,L]);function C(S){return r||!a||!u?null:d.createElement(jr,{ref:S==="start"?D:A,onClick:F=>p(!1,F.nativeEvent)},typeof a=="string"?a:"Dismiss")}const H=!r&&x&&(b||u);return d.createElement(d.Fragment,null,H&&d.createElement(ut,{"data-type":"inside",ref:O==null?void 0:O.beforeInsideRef,onFocus:S=>{if(u){const N=P();ve(o[0]==="reference"?N[0]:N[N.length-1])}else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(T.current=!1,qe(S,O.portalNode)){const N=Sn()||w;N==null||N.focus()}else{var F;(F=O.beforeOutsideRef.current)==null||F.focus()}}}),!k&&C("start"),n,C("end"),H&&d.createElement(ut,{"data-type":"inside",ref:O==null?void 0:O.afterInsideRef,onFocus:S=>{if(u)ve(P()[0]);else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(g&&(T.current=!0),qe(S,O.portalNode)){const N=Dn()||w;N==null||N.focus()}else{var F;(F=O.afterOutsideRef.current)==null||F.focus()}}}))}const xt=new Set,fo=d.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;const i=dt();return Y(()=>{if(!r)return;xt.add(i);const s=/iP(hone|ad|od)|iOS/.test(Mt()),c=document.body.style,a=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",g=window.innerWidth-document.documentElement.clientWidth,f=c.left?parseFloat(c.left):window.pageXOffset,h=c.top?parseFloat(c.top):window.pageYOffset;if(c.overflow="hidden",g&&(c[a]=g+"px"),s){var l,p;const m=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,R=((p=window.visualViewport)==null?void 0:p.offsetTop)||0;Object.assign(c,{position:"fixed",top:-(h-Math.floor(R))+"px",left:-(f-Math.floor(m))+"px",right:"0"})}return()=>{xt.delete(i),xt.size===0&&(Object.assign(c,{overflow:"",[a]:""}),s&&(Object.assign(c,{position:"",top:"",left:"",right:""}),window.scrollTo(f,h)))}},[i,r]),d.createElement("div",Ye({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function on(e){return te(e.target)&&e.target.tagName==="BUTTON"}function sn(e){return St(e)}function mo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:u=!0,ignoreMouse:a=!1,keyboardHandlers:g=!0}=t,f=d.useRef(),h=d.useRef(!1);return d.useMemo(()=>s?{reference:{onPointerDown(l){f.current=l.pointerType},onMouseDown(l){l.button===0&&(rt(f.current,!0)&&a||c!=="click"&&(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent,"click"):(l.preventDefault(),r(!0,l.nativeEvent,"click"))))},onClick(l){if(c==="mousedown"&&f.current){f.current=void 0;return}rt(f.current,!0)&&a||(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,l.nativeEvent,"click"):r(!0,l.nativeEvent,"click"))},onKeyDown(l){f.current=void 0,!(l.defaultPrevented||!g||on(l))&&(l.key===" "&&!sn(i)&&(l.preventDefault(),h.current=!0),l.key==="Enter"&&r(!(n&&u),l.nativeEvent,"click"))},onKeyUp(l){l.defaultPrevented||!g||on(l)||sn(i)||l.key===" "&&h.current&&(h.current=!1,r(!(n&&u),l.nativeEvent,"click"))}}}:{},[s,o,c,a,g,i,u,n,r])}const qr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Yr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},cn=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function po(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,nodeId:o,elements:{reference:i,domReference:s,floating:c},dataRef:u}=e,{enabled:a=!0,escapeKey:g=!0,outsidePress:f=!0,outsidePressEvent:h="pointerdown",referencePress:l=!1,referencePressEvent:p="pointerdown",ancestorScroll:m=!1,bubbles:R,capture:w}=t,y=Ue(),L=pe(typeof f=="function"?f:()=>!1),k=typeof f=="function"?L:f,x=d.useRef(!1),I=d.useRef(!1),{escapeKey:_,outsidePress:W}=cn(R),{escapeKey:M,outsidePress:O}=cn(w),D=pe(b=>{if(!n||!a||!g||b.key!=="Escape")return;const E=y?Ae(y.nodesRef.current,o):[];if(!_&&(b.stopPropagation(),E.length>0)){let P=!0;if(E.forEach(C=>{var H;if((H=C.context)!=null&&H.open&&!C.context.dataRef.current.__escapeKeyBubbles){P=!1;return}}),!P)return}r(!1,Vn(b)?b.nativeEvent:b,"escape-key")}),A=pe(b=>{var E;const P=()=>{var C;D(b),(C=Te(b))==null||C.removeEventListener("keydown",P)};(E=Te(b))==null||E.addEventListener("keydown",P)}),T=pe(b=>{const E=x.current;x.current=!1;const P=I.current;if(I.current=!1,h==="click"&&P||E||typeof k=="function"&&!k(b))return;const C=Te(b),H="["+De("inert")+"]",S=oe(c).querySelectorAll(H);let F=z(C)?C:null;for(;F&&!Be(F);){const j=Le(F);if(Be(j)||!z(j))break;F=j}if(S.length&&z(C)&&!Hn(C)&&!Z(C,c)&&Array.from(S).every(j=>!Z(F,j)))return;if(te(C)&&c){const j=C.clientWidth>0&&C.scrollWidth>C.clientWidth,$=C.clientHeight>0&&C.scrollHeight>C.clientHeight;let G=$&&b.offsetX>C.clientWidth;if($&&ce(C).direction==="rtl"&&(G=b.offsetX<=C.offsetWidth-C.clientWidth),G||j&&b.offsetY>C.clientHeight)return}const N=y&&Ae(y.nodesRef.current,o).some(j=>{var $;return gt(b,($=j.context)==null?void 0:$.elements.floating)});if(gt(b,c)||gt(b,s)||N)return;const K=y?Ae(y.nodesRef.current,o):[];if(K.length>0){let j=!0;if(K.forEach($=>{var G;if((G=$.context)!=null&&G.open&&!$.context.dataRef.current.__outsidePressBubbles){j=!1;return}}),!j)return}r(!1,b,"outside-press")}),v=pe(b=>{var E;const P=()=>{var C;T(b),(C=Te(b))==null||C.removeEventListener(h,P)};(E=Te(b))==null||E.addEventListener(h,P)});return d.useEffect(()=>{if(!n||!a)return;u.current.__escapeKeyBubbles=_,u.current.__outsidePressBubbles=W;function b(C){r(!1,C,"ancestor-scroll")}const E=oe(c);g&&E.addEventListener("keydown",M?A:D,M),k&&E.addEventListener(h,O?v:T,O);let P=[];return m&&(z(s)&&(P=Ce(s)),z(c)&&(P=P.concat(Ce(c))),!z(i)&&i&&i.contextElement&&(P=P.concat(Ce(i.contextElement)))),P=P.filter(C=>{var H;return C!==((H=E.defaultView)==null?void 0:H.visualViewport)}),P.forEach(C=>{C.addEventListener("scroll",b,{passive:!0})}),()=>{g&&E.removeEventListener("keydown",M?A:D,M),k&&E.removeEventListener(h,O?v:T,O),P.forEach(C=>{C.removeEventListener("scroll",b)})}},[u,c,s,i,g,k,h,n,r,m,a,_,W,D,M,A,T,O,v]),d.useEffect(()=>{x.current=!1},[k,h]),d.useMemo(()=>a?{reference:{onKeyDown:D,[qr[p]]:b=>{l&&r(!1,b.nativeEvent,"reference-press")}},floating:{onKeyDown:D,onMouseDown(){I.current=!0},onMouseUp(){I.current=!0},[Yr[h]]:()=>{x.current=!0}}}:{},[a,l,h,p,r,D])}function go(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=d.useState(null),c=((t=e.elements)==null?void 0:t.reference)||i,u=wr(e),a=Ue(),g=mt()!=null,f=pe((x,I,_)=>{x&&(l.current.openEvent=I),p.emit("openchange",{open:x,event:I,reason:_,nested:g}),r==null||r(x,I,_)}),h=d.useRef(null),l=d.useRef({}),p=d.useState(()=>Lr())[0],m=dt(),R=d.useCallback(x=>{const I=z(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;u.refs.setReference(I)},[u.refs]),w=d.useCallback(x=>{(z(x)||x===null)&&(h.current=x,s(x)),(z(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!z(x))&&u.refs.setReference(x)},[u.refs]),y=d.useMemo(()=>({...u.refs,setReference:w,setPositionReference:R,domReference:h}),[u.refs,w,R]),L=d.useMemo(()=>({...u.elements,domReference:c}),[u.elements,c]),k=d.useMemo(()=>({...u,refs:y,elements:L,dataRef:l,nodeId:o,floatingId:m,events:p,open:n,onOpenChange:f}),[u,o,m,p,n,f,y,L]);return Y(()=>{const x=a==null?void 0:a.nodesRef.current.find(I=>I.id===o);x&&(x.context=k)}),d.useMemo(()=>({...u,context:k,refs:y,elements:L}),[u,y,L,k])}function ho(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,refs:i,elements:{floating:s,domReference:c}}=e,{enabled:u=!0,visibleOnly:a=!0}=t,g=d.useRef(!1),f=d.useRef(),h=d.useRef(!0);return d.useEffect(()=>{if(!u)return;const l=ie(c);function p(){!n&&te(c)&&c===me(oe(c))&&(g.current=!0)}function m(){h.current=!0}return l.addEventListener("blur",p),l.addEventListener("keydown",m,!0),()=>{l.removeEventListener("blur",p),l.removeEventListener("keydown",m,!0)}},[s,c,n,u]),d.useEffect(()=>{if(!u)return;function l(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(g.current=!0)}return o.on("openchange",l),()=>{o.off("openchange",l)}},[o,u]),d.useEffect(()=>()=>{clearTimeout(f.current)},[]),d.useMemo(()=>u?{reference:{onPointerDown(l){At(l.nativeEvent)||(h.current=!1)},onMouseLeave(){g.current=!1},onFocus(l){if(g.current)return;const p=Te(l.nativeEvent);if(a&&z(p))try{if(Lt()&&yn())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!h.current&&!St(p))return}r(!0,l.nativeEvent,"focus")},onBlur(l){g.current=!1;const p=l.relatedTarget,m=z(p)&&p.hasAttribute(De("focus-guard"))&&p.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{const R=me(c?c.ownerDocument:document);!p&&R===c||Z(i.floating.current,p)||Z(c,p)||m||r(!1,l.nativeEvent,"focus")})}}}:{},[u,a,c,i,r])}const ln="active",un="selected";function Et(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[ln]:s,[un]:c,...u}=e;i=u}return{...n==="floating"&&{tabIndex:-1},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(u=>{let[a,g]=u;if(!(o&&[ln,un].includes(a)))if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof g=="function"){var f;(f=r.get(a))==null||f.push(g),s[a]=function(){for(var h,l=arguments.length,p=new Array(l),m=0;m<l;m++)p[m]=arguments[m];return(h=r.get(a))==null?void 0:h.map(R=>R(...p)).find(R=>R!==void 0)}}}else s[a]=g}),s),{})}}function vo(e){e===void 0&&(e=[]);const t=e,n=d.useCallback(i=>Et(i,e,"reference"),t),r=d.useCallback(i=>Et(i,e,"floating"),t),o=d.useCallback(i=>Et(i,e,"item"),e.map(i=>i==null?void 0:i.item));return d.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let an=!1;function pt(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function fn(e,t){return pt(t,e===Bt||e===Xe,e===We||e===He)}function Rt(e,t,n){return pt(t,e===Xe,n?e===We:e===He)||e==="Enter"||e==" "||e===""}function zr(e,t,n){return pt(t,n?e===We:e===He,e===Xe)}function dn(e,t,n){return pt(t,n?e===He:e===We,e===Bt)}function bo(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:s}}=e,{listRef:c,activeIndex:u,onNavigate:a=()=>{},enabled:g=!0,selectedIndex:f=null,allowEscape:h=!1,loop:l=!1,nested:p=!1,rtl:m=!1,virtual:R=!1,focusItemOnOpen:w="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:L=!0,disabledIndices:k=void 0,orientation:x="vertical",cols:I=1,scrollItemIntoView:_=!0,virtualItemRef:W,itemSizes:M,dense:O=!1}=t,D=mt(),A=Ue(),T=pe(a),v=d.useRef(w),b=d.useRef(f??-1),E=d.useRef(null),P=d.useRef(!0),C=d.useRef(T),H=d.useRef(!!s),S=d.useRef(!1),F=d.useRef(!1),N=he(k),K=he(n),j=he(_),[$,G]=d.useState(),[J,q]=d.useState(),X=pe(function(V,re,Q){Q===void 0&&(Q=!1);const U=V.current[re.current];U&&(R?(G(U.id),A==null||A.events.emit("virtualfocus",U),W&&(W.current=U)):ve(U,{preventScroll:!0,sync:yn()&&Lt()?an||S.current:!1}),requestAnimationFrame(()=>{const xe=j.current;xe&&U&&(Q||!P.current)&&(U.scrollIntoView==null||U.scrollIntoView(typeof xe=="boolean"?{block:"nearest",inline:"nearest"}:xe))}))});Y(()=>{document.createElement("div").focus({get preventScroll(){return an=!0,!1}})},[]),Y(()=>{g&&(n&&s?v.current&&f!=null&&(F.current=!0,T(f)):H.current&&(b.current=-1,C.current(null)))},[g,n,s,f,T]),Y(()=>{if(g&&n&&s)if(u==null){if(S.current=!1,f!=null)return;if(H.current&&(b.current=-1,X(c,b)),!H.current&&v.current&&(E.current!=null||v.current===!0&&E.current==null)){let V=0;const re=()=>{c.current[0]==null?(V<2&&(V?requestAnimationFrame:queueMicrotask)(re),V++):(b.current=E.current==null||Rt(E.current,x,m)||p?ht(c,N.current):Gt(c,N.current),E.current=null,T(b.current))};re()}}else je(c,u)||(b.current=u,X(c,b,F.current),F.current=!1)},[g,n,s,u,f,p,c,x,m,T,X,N]),Y(()=>{var V;if(!g||s||!A||R||!H.current)return;const re=A.nodesRef.current,Q=(V=re.find(Ie=>Ie.id===D))==null||(V=V.context)==null?void 0:V.elements.floating,U=me(oe(s)),xe=re.some(Ie=>Ie.context&&Z(Ie.context.elements.floating,U));Q&&!xe&&P.current&&Q.focus({preventScroll:!0})},[g,s,A,D,R]),Y(()=>{if(!g||!A||!R||D)return;function V(re){q(re.id),W&&(W.current=re)}return A.events.on("virtualfocus",V),()=>{A.events.off("virtualfocus",V)}},[g,A,R,D,W]),Y(()=>{C.current=T,H.current=!!s}),Y(()=>{n||(E.current=null)},[n]);const se=u!=null,ue=d.useMemo(()=>{function V(Q){if(!n)return;const U=c.current.indexOf(Q);U!==-1&&T(U)}return{onFocus(Q){let{currentTarget:U}=Q;V(U)},onClick:Q=>{let{currentTarget:U}=Q;return U.focus({preventScroll:!0})},...y&&{onMouseMove(Q){let{currentTarget:U}=Q;V(U)},onPointerLeave(Q){let{pointerType:U}=Q;!P.current||U==="touch"||(b.current=-1,X(c,b),T(null),R||ve(o.floating.current,{preventScroll:!0}))}}}},[n,o,X,y,c,T,R]);return d.useMemo(()=>{if(!g)return{};const V=N.current;function re(B){if(P.current=!1,S.current=!0,!K.current&&B.currentTarget===o.floating.current)return;if(p&&dn(B.key,x,m)){ee(B),r(!1,B.nativeEvent,"list-navigation"),te(i)&&!R&&i.focus();return}const le=b.current,ae=ht(c,V),Ee=Gt(c,V);if(B.key==="Home"&&(ee(B),b.current=ae,T(b.current)),B.key==="End"&&(ee(B),b.current=Ee,T(b.current)),I>1){const Pe=M||Array.from({length:c.current.length},()=>({width:1,height:1})),Re=Tr(Pe,I,O),Ge=Re.findIndex(fe=>fe!=null&&!(V!=null&&V.includes(fe))),Je=Re.reduce((fe,$e,de)=>$e!=null&&!(V!=null&&V.includes($e))?de:fe,-1);if(b.current=Re[Rr({current:Re.map(fe=>fe!=null?c.current[fe]:null)},{event:B,orientation:x,loop:l,cols:I,disabledIndices:Or([...V||[],void 0],Re),minIndex:Ge,maxIndex:Je,prevIndex:Cr(b.current,Pe,Re,I,B.key===Xe?"bl":B.key===He?"tr":"tl"),stopEvent:!0})],T(b.current),x==="both")return}if(fn(B.key,x)){if(ee(B),n&&!R&&me(B.currentTarget.ownerDocument)===B.currentTarget){b.current=Rt(B.key,x,m)?ae:Ee,T(b.current);return}Rt(B.key,x,m)?l?b.current=le>=Ee?h&&le!==c.current.length?-1:ae:ne(c,{startingIndex:le,disabledIndices:V}):b.current=Math.min(Ee,ne(c,{startingIndex:le,disabledIndices:V})):l?b.current=le<=ae?h&&le!==-1?c.current.length:Ee:ne(c,{startingIndex:le,decrement:!0,disabledIndices:V}):b.current=Math.max(ae,ne(c,{startingIndex:le,decrement:!0,disabledIndices:V})),je(c,b.current)?T(null):T(b.current)}}function Q(B){w==="auto"&&bn(B.nativeEvent)&&(v.current=!0)}function U(B){v.current=w,w==="auto"&&At(B.nativeEvent)&&(v.current=!0)}const xe=R&&n&&se&&{"aria-activedescendant":J||$},Ie=c.current.find(B=>(B==null?void 0:B.id)===$);return{reference:{...xe,onKeyDown(B){P.current=!1;const le=B.key.indexOf("Arrow")===0,ae=zr(B.key,x,m),Ee=dn(B.key,x,m),Pe=fn(B.key,x),Re=(p?ae:Pe)||B.key==="Enter"||B.key.trim()==="";if(R&&n){const $e=A==null?void 0:A.nodesRef.current.find(Qe=>Qe.parentId==null),de=A&&$e?Nr(A.nodesRef.current,$e.id):null;if(le&&de&&W){const Qe=new KeyboardEvent("keydown",{key:B.key,bubbles:!0});if(ae||Ee){var Ge,Je;const _n=((Ge=de.context)==null?void 0:Ge.elements.domReference)===B.currentTarget,Vt=Ee&&!_n?(Je=de.context)==null?void 0:Je.elements.domReference:ae?Ie:null;Vt&&(ee(B),Vt.dispatchEvent(Qe),q(void 0))}if(Pe&&de.context&&de.context.open&&de.parentId&&B.currentTarget!==de.context.elements.domReference){var fe;ee(B),(fe=de.context.elements.domReference)==null||fe.dispatchEvent(Qe);return}}return re(B)}if(!(!n&&!L&&le)){if(Re&&(E.current=p&&Pe?null:B.key),p){ae&&(ee(B),n?(b.current=ht(c,V),T(b.current)):r(!0,B.nativeEvent,"list-navigation"));return}Pe&&(f!=null&&(b.current=f),ee(B),!n&&L?r(!0,B.nativeEvent,"list-navigation"):re(B),n&&T(b.current))}},onFocus(){n&&T(null)},onPointerDown:U,onMouseDown:Q,onClick:Q},floating:{"aria-orientation":x==="both"?void 0:x,...!wn(i)&&xe,onKeyDown:re,onPointerMove(){P.current=!0}},item:ue}},[i,o,$,J,N,K,c,g,x,m,R,n,se,p,f,L,h,I,l,w,T,r,ue,A,W,M,O])}const Xr=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function yo(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,c=(n=Xr.get(s))!=null?n:s,u=dt(),g=mt()!=null;return d.useMemo(()=>{if(!i)return{};const f={id:o,...c&&{role:c}};return c==="tooltip"||s==="label"?{reference:{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0},floating:f}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":r?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:u},...c==="menu"&&g&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},floating:{...f,...c==="menu"&&{"aria-labelledby":u}},item(h){let{active:l,selected:p}=h;const m={role:"option",...l&&{id:o+"-option"}};switch(s){case"select":return{...m,"aria-selected":l&&p};case"combobox":return{...m,...l&&{"aria-selected":!0}}}return{}}}},[i,s,c,r,o,u,g])}function wo(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c,onTypingChange:u,enabled:a=!0,findMatch:g=null,resetMs:f=750,ignoreKeys:h=[],selectedIndex:l=null}=t,p=d.useRef(),m=d.useRef(""),R=d.useRef((n=l??s)!=null?n:-1),w=d.useRef(null),y=pe(c),L=pe(u),k=he(g),x=he(h);return Y(()=>{r&&(clearTimeout(p.current),w.current=null,m.current="")},[r]),Y(()=>{if(r&&m.current===""){var I;R.current=(I=l??s)!=null?I:-1}},[r,l,s]),d.useMemo(()=>{if(!a)return{};function I(M){M?o.current.typing||(o.current.typing=M,L(M)):o.current.typing&&(o.current.typing=M,L(M))}function _(M,O,D){const A=k.current?k.current(O,D):O.find(T=>(T==null?void 0:T.toLocaleLowerCase().indexOf(D.toLocaleLowerCase()))===0);return A?M.indexOf(A):-1}function W(M){const O=i.current;if(m.current.length>0&&m.current[0]!==" "&&(_(O,O,m.current)===-1?I(!1):M.key===" "&&ee(M)),O==null||x.current.includes(M.key)||M.key.length!==1||M.ctrlKey||M.metaKey||M.altKey)return;r&&M.key!==" "&&(ee(M),I(!0)),O.every(v=>{var b,E;return v?((b=v[0])==null?void 0:b.toLocaleLowerCase())!==((E=v[1])==null?void 0:E.toLocaleLowerCase()):!0})&&m.current===M.key&&(m.current="",R.current=w.current),m.current+=M.key,clearTimeout(p.current),p.current=setTimeout(()=>{m.current="",R.current=w.current,I(!1)},f);const A=R.current,T=_(O,[...O.slice((A||0)+1),...O.slice(0,(A||0)+1)],m.current);T!==-1?(y(T),w.current=T):M.key!==" "&&(m.current="",I(!1))}return{reference:{onKeyDown:W},floating:{onKeyDown:W,onKeyUp(M){M.key===" "&&I(!1)}}}},[a,r,o,i,f,x,k,y,L])}function mn(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[u,a]=t[s]||[0,0],[g,f]=t[c]||[0,0];a>=r!=f>=r&&n<=(g-u)*(r-a)/(f-a)+u&&(o=!o)}return o}function Ur(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function xo(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,u=performance.now();function a(f,h){const l=performance.now(),p=l-u;if(s===null||c===null||p===0)return s=f,c=h,u=l,null;const m=f-s,R=h-c,y=Math.sqrt(m*m+R*R)/p;return s=f,c=h,u=l,y}const g=f=>{let{x:h,y:l,placement:p,elements:m,onClose:R,nodeId:w,tree:y}=f;return function(k){function x(){clearTimeout(o),R()}if(clearTimeout(o),!m.domReference||!m.floating||p==null||h==null||l==null)return;const{clientX:I,clientY:_}=k,W=[I,_],M=Te(k),O=k.type==="mouseleave",D=Z(m.floating,M),A=Z(m.domReference,M),T=m.domReference.getBoundingClientRect(),v=m.floating.getBoundingClientRect(),b=p.split("-")[0],E=h>v.right-v.width/2,P=l>v.bottom-v.height/2,C=Ur(W,T),H=v.width>T.width,S=v.height>T.height,F=(H?T:v).left,N=(H?T:v).right,K=(S?T:v).top,j=(S?T:v).bottom;if(D&&(i=!0,!O))return;if(A&&(i=!1),A&&!O){i=!0;return}if(O&&z(k.relatedTarget)&&Z(m.floating,k.relatedTarget)||y&&Ae(y.nodesRef.current,w).some(J=>{let{context:q}=J;return q==null?void 0:q.open}))return;if(b==="top"&&l>=T.bottom-1||b==="bottom"&&l<=T.top+1||b==="left"&&h>=T.right-1||b==="right"&&h<=T.left+1)return x();let $=[];switch(b){case"top":$=[[F,T.top+1],[F,v.bottom-1],[N,v.bottom-1],[N,T.top+1]];break;case"bottom":$=[[F,v.top+1],[F,T.bottom-1],[N,T.bottom-1],[N,v.top+1]];break;case"left":$=[[v.right-1,j],[v.right-1,K],[T.left+1,K],[T.left+1,j]];break;case"right":$=[[T.right-1,j],[T.right-1,K],[v.left+1,K],[v.left+1,j]];break}function G(J){let[q,X]=J;switch(b){case"top":{const se=[H?q+t/2:E?q+t*4:q-t*4,X+t+1],ue=[H?q-t/2:E?q+t*4:q-t*4,X+t+1],V=[[v.left,E||H?v.bottom-t:v.top],[v.right,E?H?v.bottom-t:v.top:v.bottom-t]];return[se,ue,...V]}case"bottom":{const se=[H?q+t/2:E?q+t*4:q-t*4,X-t],ue=[H?q-t/2:E?q+t*4:q-t*4,X-t],V=[[v.left,E||H?v.top+t:v.bottom],[v.right,E?H?v.top+t:v.bottom:v.top+t]];return[se,ue,...V]}case"left":{const se=[q+t+1,S?X+t/2:P?X+t*4:X-t*4],ue=[q+t+1,S?X-t/2:P?X+t*4:X-t*4];return[...[[P||S?v.right-t:v.left,v.top],[P?S?v.right-t:v.left:v.right-t,v.bottom]],se,ue]}case"right":{const se=[q-t,S?X+t/2:P?X+t*4:X-t*4],ue=[q-t,S?X-t/2:P?X+t*4:X-t*4],V=[[P||S?v.left+t:v.right,v.top],[P?S?v.left+t:v.right:v.left+t,v.bottom]];return[se,ue,...V]}}}if(!mn([I,_],$)){if(i&&!C)return x();if(!O&&r){const J=a(k.clientX,k.clientY);if(J!==null&&J<.1)return x()}mn([I,_],G([h,l]))?!i&&r&&(o=window.setTimeout(x,40)):x()}}};return g.__options={blockPointerEvents:n},g}export{ao as F,to as a,oo as b,eo as c,vo as d,mo as e,ro as f,lo as g,xo as h,po as i,yo as j,co as k,bo as l,wo as m,so as n,Zr as o,io as p,uo as q,fo as r,no as s,ho as t,go as u};
